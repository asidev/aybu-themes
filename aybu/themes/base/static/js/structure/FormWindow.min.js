Ext.ns("TreeManager");TreeManager.FormWin=Ext.extend(Ext.Window,{constructor:function(a){TreeManager.FormWin.superclass.constructor.call(this,a)},initComponent:function(){var a={layout:"fit",width:600,height:500,closable:true,animCollapse:true,modal:true};this.pageForm=new TreeManager.PageForm({title:"Pagina",type:"Page",win:this});this.sectionForm=new TreeManager.SectionForm({title:"Sezione",type:"Section",win:this});this.mediaPageForm=new TreeManager.MediaPageForm({title:"Galleria",type:"MediaCollectionPage",win:this});this.externalLinkForm=new TreeManager.ExternalLinkForm({title:"Link Esterno",type:"ExternalLink",win:this});this.internalLinkForm=new TreeManager.InternalLinkForm({title:"Link Interno",type:"InternalLink",win:this});this.forms=[this.pageForm,this.mediaPageForm,this.sectionForm,this.externalLinkForm,this.internalLinkForm];this.tabPanel=new Ext.TabPanel({deferredRender:false,activeTab:0,items:this.forms});this.items=[this.tabPanel];this.buttons=[{text:"Chiudi",handler:this.close,scope:this}];Ext.apply(this,Ext.apply(this.initialConfig,a));TreeManager.FormWin.superclass.initComponent.call(this)},resetForm:function(){for(i=0;i<this.forms.length;i++){this.forms[i].reset();this.forms[i].enable()}},show:function(a,d,c,e,f,b){this.menu_item_id=a;this.parent_id=d;this.menu_item_type=c;this.resetForm();for(i=0;i<this.forms.length;i++){this.forms[i].parent_id=d}if(a){for(i=0;i<this.forms.length;i++){this.forms[i].disable()}if(this.menu_item_type=="Page"){this.pageForm.enable();this.pageForm.setUpdate();this.pageForm.load(a);this.tabPanel.activate(this.pageForm)}else{if(this.menu_item_type=="MediaCollectionPage"){this.mediaPageForm.enable();this.mediaPageForm.setUpdate();this.mediaPageForm.load(a);this.tabPanel.activate(this.mediaPageForm)}else{if(this.menu_item_type=="Section"){this.sectionForm.enable();this.sectionForm.setUpdate();this.sectionForm.load(a);this.tabPanel.activate(this.sectionForm)}else{if(this.menu_item_type=="ExternalLink"){this.externalLinkForm.enable();this.externalLinkForm.setUpdate();this.externalLinkForm.load(a);this.tabPanel.activate(this.externalLinkForm)}else{if(this.menu_item_type=="InternalLink"){this.internalLinkForm.enable();this.internalLinkForm.setUpdate();this.internalLinkForm.load(a);this.tabPanel.activate(this.internalLinkForm)}}}}}}return TreeManager.FormWin.superclass.show.call(this,e,f,b)}});