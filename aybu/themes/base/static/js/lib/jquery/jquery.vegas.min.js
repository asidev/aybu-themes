(function(i){var l=i("<img />").addClass("vegas-background"),o=i("<div />").addClass("vegas-overlay"),m=i("<div />").addClass("vegas-loading"),a=i(),p=null,j=[],d=0,h=5000,n=function(){},b,e={init:function(r){var q={src:k(),align:"center",valign:"center",fade:0,loading:true,load:function(){},complete:function(){}};i.extend(q,i.vegas.defaults.background,r);if(q.loading){f()}var s=l.clone();s.css({position:"fixed",left:"0px",top:"0px"}).imagesLoadedForVegas(function(){if(s==a){return}i(window).bind("load resize.vegas",function(t){c(s,q)});if(a.is("img")){a.stop();s.hide().insertAfter(a).fadeIn(q.fade,function(){i(".vegas-background").not(this).remove();i("body").trigger("vegascomplete",[this,d-1]);q.complete.apply(s,[d-1])})}else{s.hide().prependTo("body").fadeIn(q.fade,function(){i("body").trigger("vegascomplete",[this,d-1]);q.complete.apply(this,[d-1])})}a=s;c(a,q);if(q.loading){g()}i("body").trigger("vegasload",[a.get(0),d-1]);q.load.apply(a.get(0),[d-1]);if(d){i("body").trigger("vegaswalk",[a.get(0),d-1]);q.walk.apply(a.get(0),[d-1])}}).attr("src",q.src);return i.vegas},destroy:function(q){if(!q||q=="background"){i(".vegas-background, .vegas-loading").remove();i(window).unbind("resize.vegas");a=i()}if(q=="overlay"){i(".vegas-overlay").remove()}return i.vegas},overlay:function(r){var q={src:null,opacity:null};i.extend(q,i.vegas.defaults.overlay,r);o.remove();o.css({margin:"0",padding:"0",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"});if(q.src){o.css("backgroundImage","url("+q.src+")")}if(q.opacity){o.css("opacity",q.opacity)}o.prependTo("body");return i.vegas},slideshow:function(s,q){var r={step:d,delay:h,preload:false,backgrounds:j,walk:n};i.extend(r,i.vegas.defaults.slideshow,s);if(r.backgrounds!=j){if(!s.step){r.step=0}if(!s.walk){r.walk=function(){}}if(r.preload){i.vegas("preload",r.backgrounds)}}j=r.backgrounds;h=r.delay;d=r.step;n=r.walk;clearInterval(b);if(!j.length){return i.vegas}var t=function(){if(d<0){d=j.length-1}if(d>=j.length||!j[d-1]){d=0}var u=j[d++];u.walk=r.walk;if(typeof(u.fade)=="undefined"){u.fade=r.fade}if(u.fade>r.delay){u.fade=r.delay}i.vegas(u)};t();if(!q){p=false;i("body").trigger("vegasstart",[a.get(0),d-1])}if(!p){b=setInterval(t,r.delay)}return i.vegas},next:function(){var q=d;if(d){i.vegas("slideshow",{step:d},true);i("body").trigger("vegasnext",[a.get(0),d-1,q-1])}return i.vegas},previous:function(){var q=d;if(d){i.vegas("slideshow",{step:d-2},true);i("body").trigger("vegasprevious",[a.get(0),d-1,q-1])}return i.vegas},jump:function(q){var r=d;if(d){i.vegas("slideshow",{step:q},true);i("body").trigger("vegasjump",[a.get(0),d-1,r-1])}return i.vegas},stop:function(){var q=d;d=0;p=null;clearInterval(b);i("body").trigger("vegasstop",[a.get(0),q-1]);return i.vegas},pause:function(){p=true;clearInterval(b);i("body").trigger("vegaspause",[a.get(0),d-1]);return i.vegas},get:function(q){if(q==null||q=="background"){return a.get(0)}if(q=="overlay"){return o.get(0)}if(q=="step"){return d-1}if(q=="paused"){return p}},preload:function(t){var r=[];for(var s in t){if(t[s].src){var q=document.createElement("img");q.src=t[s].src;r.push(q)}}return i.vegas}};function c(r,u){var D={align:"center",valign:"center"};i.extend(D,u);var x=i(window).width(),s=i(window).height(),v=r.width(),C=r.height(),t=s/x,A=C/v,w,q,B,z,y;if(t>A){w=s/A;q=s}else{w=x;q=x*A}y={width:w+"px",height:q+"px",top:"auto",bottom:"auto",left:"auto",right:"auto"};if(!isNaN(parseInt(D.valign))){y.top=(0-(q-s)/100*parseInt(D.valign))+"px"}else{if(D.valign=="top"){y.top=0}else{if(D.valign=="bottom"){y.bottom=0}else{y.top=(s-q)/2}}}if(!isNaN(parseInt(D.align))){y.left=(0-(w-x)/100*parseInt(D.align))+"px"}else{if(D.align=="left"){y.left=0}else{if(D.align=="right"){y.right=0}else{y.left=(x-w)/2}}}r.css(y)}function f(){m.prependTo("body").fadeIn()}function g(){m.fadeOut("fast",function(){i(this).remove()})}function k(){if(i("body").css("backgroundImage")){return i("body").css("backgroundImage").replace(/url\("?(.*?)"?\)/i,"$1")}}i.vegas=function(q){if(e[q]){return e[q].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof q==="object"||!q){return e.init.apply(this,arguments)}else{i.error("Method "+q+" does not exist")}}};i.vegas.defaults={background:{},slideshow:{},overlay:{}}
/*
     * jQuery imagesLoaded plugin v1.0.3
     * http://github.com/desandro/imagesloaded
     *
     * MIT License. by Paul Irish et al.
     */
;i.fn.imagesLoadedForVegas=function(w){var u=this,s=u.find("img").add(u.filter("img")),q=s.length,v="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";function t(){w.call(u,s)}function r(){if(--q<=0&&this.src!==v){setTimeout(t);s.unbind("load error",r)}}if(!q){setTimeout(t,200)}s.bind("load error",r).each(function(){if(this.complete||this.complete===undefined){var x=this.src;this.src=v;this.src=x}});return u}})(jQuery);