(function(b){b.fn.superfish=function(j){var f=b.fn.superfish,i=f.c,h=function(){var c=b(this),k=d(c);clearTimeout(k.sfTimer);c.showSuperfishUl().siblings().hideSuperfishUl()},e=function(){var c=b(this),l=d(c),k=f.op;clearTimeout(l.sfTimer);l.sfTimer=setTimeout(function(){k.retainPath=(b.inArray(c[0],k.$path)>-1);c.hideSuperfishUl();if(k.$path.length&&c.parents(["li.",k.hoverClass].join("")).length<1){h.call(k.$path)}},k.delay)},d=function(c){var k=c.parents(["ul.",i.menuClass,":first"].join(""))[0];f.op=f.o[k.serial];return k},g=function(c){c.addClass(i.anchorClass)};return this.each(function(){var c=this.serial=f.o.length;var l=b.extend({},f.defaults,j);l.$path=b("li."+l.pathClass,this).slice(0,l.pathLevels).each(function(){b(this).addClass([l.hoverClass,i.bcClass].join(" ")).filter("li:has(ul)").removeClass(l.pathClass)});f.o[c]=f.op=l;b("li:has(ul)",this)[(b.fn.hoverIntent&&!l.disableHI)?"hoverIntent":"hover"](h,e).each(function(){if(l.autoArrows){g(b(">a:first-child",this))}}).not("."+i.bcClass).hideSuperfishUl();var k=b("a",this);k.each(function(m){var n=k.eq(m).parents("li");k.eq(m).focus(function(){h.call(n)}).blur(function(){e.call(n)})});l.onInit.call(this)}).each(function(){var c=[i.menuClass];if(f.op.dropShadows&&!(b.browser.msie&&b.browser.version<7)){c.push(i.shadowClass)}b(this).addClass(c.join(" "))})};var a=b.fn.superfish;a.o=[];a.op={};a.IE7fix=function(){var c=a.op;if(b.browser.msie&&b.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined){this.toggleClass(a.c.shadowClass+"-off")}};a.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};a.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};b.fn.extend({hideSuperfishUl:function(){var e=a.op,d=(e.retainPath===true)?e.$path:"";e.retainPath=false;var c=b(["li.",e.hoverClass].join(""),this).add(this).not(d).removeClass(e.hoverClass).find(">ul").hide().css("visibility","hidden");e.onHide.call(c);return this},showSuperfishUl:function(){var e=a.op,d=a.c.shadowClass+"-off",c=this.addClass(e.hoverClass).find(">ul:hidden").css("visibility","visible");a.IE7fix.call(c);e.onBeforeShow.call(c);c.animate(e.animation,e.speed,function(){a.IE7fix.call(c);e.onShow.call(c)});return this}})})(jQuery);